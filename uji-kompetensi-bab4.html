<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uji Kompetensi Bab 4 - Jejak Bermedia Digital</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            color: #1c1c1c;
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* === HEADER === */
        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(30, 58, 138, 0.1);
            padding: 20px 50px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #1e3a8a, #3b82f6);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            box-shadow: 0 4px 15px rgba(30, 58, 138, 0.3);
        }

        .logo-text {
            font-size: 1.4rem;
            font-weight: 800;
            color: #1e3a8a;
        }

        .back-btn {
            background: linear-gradient(135deg, #1e3a8a, #3b82f6);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 12px;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            box-shadow: 0 4px 15px rgba(30, 58, 138, 0.3);
        }

        .back-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(30, 58, 138, 0.4);
        }

        /* === MAIN CONTENT === */
        .content {
            min-height: calc(100vh - 100px);
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 40px 20px;
        }

        .quiz-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 30px;
            padding: 40px;
            max-width: 900px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .quiz-container::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(59, 130, 246, 0.05) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
            z-index: 0;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .quiz-content {
            position: relative;
            z-index: 1;
        }

        /* === QUESTION AREA === */
        .question-area {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            border: 2px solid rgba(30, 58, 138, 0.05);
        }

        .question-number {
            display: inline-block;
            background: linear-gradient(135deg, #1e3a8a, #3b82f6);
            color: white;
            padding: 8px 20px;
            border-radius: 50px;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .question-text {
            font-size: 1.4rem;
            font-weight: 600;
            color: #1e293b;
            line-height: 1.5;
        }

        /* === OPTIONS GRID (4 Cards) === */
        .options-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .options-grid {
                grid-template-columns: 1fr;
            }
        }

        .option-card {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }

        .option-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            border-color: #3b82f6;
        }

        .option-card.correct {
            background: #d1fae5;
            border-color: #10b981;
            color: #065f46;
        }

        .option-card.wrong {
            background: #fee2e2;
            border-color: #ef4444;
            color: #991b1b;
        }

        .option-card.disabled {
            pointer-events: none;
            opacity: 0.7;
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            background: #f3f4f6;
            border-radius: 10px;
            font-weight: 700;
            color: #374151;
            margin-right: 15px;
        }

        .option-card.correct .option-letter {
            background: #10b981;
            color: white;
        }

        .option-card.wrong .option-letter {
            background: #ef4444;
            color: white;
        }

        .option-text {
            font-size: 1.1rem;
            font-weight: 500;
            line-height: 1.4;
            display: inline;
        }

        /* === NAVIGATION === */
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
        }

        .progress-container {
            flex: 1;
            margin-right: 30px;
        }

        .progress-bar {
            height: 10px;
            background: #e5e7eb;
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #3b82f6);
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .progress-text {
            text-align: center;
            color: #6b7280;
            margin-top: 8px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .next-btn {
            background: linear-gradient(135deg, #1e3a8a, #3b82f6);
            color: white;
            border: none;
            padding: 14px 30px;
            border-radius: 12px;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            white-space: nowrap;
            box-shadow: 0 4px 15px rgba(30, 58, 138, 0.3);
        }

        .next-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(30, 58, 138, 0.4);
        }

        .next-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* === STATS PANEL === */
        .stats-panel {
            background: white;
            border-radius: 20px;
            padding: 25px;
            margin-top: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            border: 2px solid rgba(30, 58, 138, 0.05);
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 15px;
        }

        .stat-item {
            text-align: center;
            flex: 1;
            min-width: 120px;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 800;
            color: #1e3a8a;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #6b7280;
            font-size: 0.9rem;
            font-weight: 600;
        }

        /* === END SCREEN === */
        .end-screen {
            text-align: center;
            padding: 40px;
            display: none;
        }

        .end-screen.show {
            display: block;
        }

        .end-title {
            font-size: 2.5rem;
            font-weight: 800;
            color: #1e3a8a;
            margin-bottom: 20px;
        }

        .score-circle {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            margin: 0 auto 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            box-shadow: 0 15px 35px rgba(59, 130, 246, 0.3);
        }

        .final-score {
            font-size: 3.5rem;
            font-weight: 900;
            line-height: 1;
        }

        .score-label {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .result-message {
            background: linear-gradient(135deg, #f0f5ff, #e6f0ff);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            border: 2px solid rgba(30, 58, 138, 0.1);
            font-size: 1.1rem;
            color: #4b5563;
            line-height: 1.8;
        }

        .restart-btn {
            background: linear-gradient(135deg, #1e3a8a, #3b82f6);
            color: white;
            border: none;
            padding: 18px 45px;
            border-radius: 15px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 12px;
        }

        .restart-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(30, 58, 138, 0.3);
        }

        /* === UTILITY CLASSES === */
        .hidden {
            display: none !important;
        }
        
        /* Auto-next timer */
        .auto-next-timer {
            position: absolute;
            top: -10px;
            right: -10px;
            background: #3b82f6;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9rem;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
            opacity: 0;
            transform: scale(0);
            transition: all 0.3s ease;
        }

        .auto-next-timer.show {
            opacity: 1;
            transform: scale(1);
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <div class="logo-icon">
                <i class="fas fa-file-alt"></i>
            </div>
            <div class="logo-text">Uji Kompetensi Bab 4 - Jejak Bermedia Digital</div>
        </div>
        <a href="ujikompetensi.html" class="back-btn" onclick="window.history.back()">
            <i class="fas fa-arrow-left"></i> Kembali
        </a>
    </header>

    <section class="content">
        <div class="quiz-container">
            <div class="quiz-content">
                <!-- Quiz Screen -->
                <div id="quizScreen">
                    <!-- Question Area -->
                    <div class="question-area">
                        <div class="question-number" id="questionNumber">Soal 1 dari 20</div>
                        <div class="question-text" id="questionText">Jejak digital yang ditinggalkan secara sengaja oleh pengguna, seperti mengunggah foto atau mengisi formulir online, disebut jejak digital…</div>
                    </div>

                    <!-- Options Grid (4 Cards) -->
                    <div class="options-grid" id="optionsGrid">
                        <!-- Options will be inserted here by JavaScript -->
                    </div>

                    <!-- Navigation -->
                    <div class="navigation">
                        <div class="progress-container">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill" style="width: 5%"></div>
                            </div>
                            <div class="progress-text" id="progressText">1 dari 20 soal</div>
                        </div>
                        <button class="next-btn" id="nextButton" onclick="nextQuestion()" disabled>
                            <span id="nextButtonText">Selanjutnya</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>

                    <!-- Stats Panel -->
                    <div class="stats-panel">
                        <div class="stat-item">
                            <div class="stat-value" id="scoreValue">0</div>
                            <div class="stat-label">Skor</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="correctValue">0</div>
                            <div class="stat-label">Benar</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="wrongValue">0</div>
                            <div class="stat-label">Salah</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="accuracyValue">0%</div>
                            <div class="stat-label">Akurasi</div>
                        </div>
                    </div>
                </div>

                <!-- End Screen -->
                <div class="end-screen" id="endScreen">
                    <h2 class="end-title">Ujian Selesai</h2>
                    
                    <div class="score-circle">
                        <div class="final-score" id="finalScore">0</div>
                        <div class="score-label">Skor Akhir</div>
                    </div>
                    
                    <div class="result-message" id="resultMessage">
                        Kamu telah menyelesaikan Uji Kompetensi Bab 4: Jejak Bermedia Digital.
                    </div>
                    
                    <div class="stats-panel">
                        <div class="stat-item">
                            <div class="stat-value" id="finalCorrect">0</div>
                            <div class="stat-label">Jawaban Benar</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="finalWrong">0</div>
                            <div class="stat-label">Jawaban Salah</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="finalAccuracy">0%</div>
                            <div class="stat-label">Akurasi</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="finalTime">0s</div>
                            <div class="stat-label">Waktu</div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 30px;">
                        <button class="restart-btn" onclick="restartQuiz()">
                            <i class="fas fa-redo"></i> Ulangi Ujian
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Data soal berdasarkan materi
        const questions = [
            // Soal 1-15 (Reguler)
            {
                question: "Jejak digital yang ditinggalkan secara sengaja oleh pengguna, seperti mengunggah foto atau mengisi formulir online, disebut jejak digital…",
                options: ["pasif", "tersembunyi", "aktif", "tidak disengaja"],
                correct: 2
            },
            {
                question: "Berikut yang merupakan contoh jejak digital pasif adalah…",
                options: [
                    "Mengirim email",
                    "Memposting video di TikTok",
                    "Riwayat pencarian yang dikumpulkan server",
                    "Mengisi data diri pada situs web"
                ],
                correct: 2
            },
            {
                question: "Salah satu alasan mengapa jejak digital penting untuk dijaga adalah karena dapat memengaruhi…",
                options: [
                    "Kecepatan akses internet",
                    "Reputasi dan kesempatan masa depan",
                    "Harga perangkat elektronik",
                    "Kualitas sinyal telepon"
                ],
                correct: 1
            },
            {
                question: "Konten yang diunggah di media sosial dapat dengan cepat menyebar luas di lingkungan yang saling terhubung, seperti di Kota Kupang. Hal ini menunjukkan risiko…",
                options: [
                    "Kehilangan data",
                    "Penyebaran informasi pribadi tanpa terkendali",
                    "Penurunan kecepatan internet",
                    "Kerusakan perangkat"
                ],
                correct: 1
            },
            {
                question: "Untuk memastikan suatu situs web aman, kita harus memperhatikan apakah alamatnya diawali dengan…",
                options: ["http://", "https://", "www://", "html://"],
                correct: 1
            },
            {
                question: "Langkah yang dapat dilakukan untuk melindungi jejak digital adalah…",
                options: [
                    "Membagikan semua informasi pribadi",
                    "Mengklik semua tautan yang menarik",
                    "Menonaktifkan akun media sosial yang tidak digunakan",
                    "Mengunggah data pribadi secara rutin"
                ],
                correct: 2
            },
            {
                question: "Candaan yang biasa dalam suatu komunitas dapat dianggap kasar oleh orang dari luar komunitas tersebut. Hal ini menunjukkan risiko jejak digital berupa…",
                options: [
                    "Pencurian data",
                    "Penyalahgunaan identitas",
                    "Kesalahpahaman atau disalahartikan",
                    "Kehilangan perangkat"
                ],
                correct: 2
            },
            {
                question: "Dalam proses seleksi masuk perguruan tinggi atau menjadi ASN, pihak panitia sering memeriksa…",
                options: [
                    "Nilai rapor saja",
                    "Media sosial calon peserta",
                    "Harga smartphone yang digunakan",
                    "Lokasi tempat tinggal"
                ],
                correct: 1
            },
            {
                question: "Berikut ini yang termasuk dalam jejak digital aktif adalah…",
                options: [
                    "Riwayat lokasi yang terekam otomatis",
                    "Alamat IP yang tercatat",
                    "Komentar di postingan Instagram",
                    "Data kunjungan situs yang dikumpulkan cookie"
                ],
                correct: 2
            },
            {
                question: "Jejak digital dapat dimanfaatkan oleh pihak tidak bertanggung jawab untuk melakukan…",
                options: [
                    "Memperbaiki jaringan internet",
                    "Membuat akun palsu atau penipuan",
                    "Meningkatkan kecepatan internet",
                    "Memperbaiki reputasi seseorang"
                ],
                correct: 1
            },
            {
                question: "Membangun citra diri yang positif di media sosial penting untuk mencerminkan diri sebagai pelajar yang…",
                options: [
                    "Sering mengunggah konten lucu",
                    "Beretika dan inspiratif",
                    "Selalu mengikuti tren terbaru",
                    "Banyak memiliki follower"
                ],
                correct: 1
            },
            {
                question: "Media sosial seperti WhatsApp dan Instagram di NTT sering digunakan untuk…",
                options: [
                    "Hanya bermain game",
                    "Berkomunikasi dan berbagi informasi",
                    "Menjual perangkat elektronik",
                    "Memperbaiki jaringan internet"
                ],
                correct: 1
            },
            {
                question: "Jika menemukan postingan yang berpotensi merusak reputasi di media sosial, tindakan yang dapat dilakukan adalah…",
                options: [
                    "Membagikan ulang",
                    "Menghapus atau melaporkan",
                    "Mengabaikan saja",
                    "Menyimpannya di galeri"
                ],
                correct: 1
            },
            {
                question: "Jejak digital disebut juga sebagai…",
                options: ["Jejak fisik", "Jejak elektronik", "Jejak permanen", "Jejak sosial"],
                correct: 1
            },
            {
                question: "Data yang ditinggalkan saat berselancar di internet tanpa disadari pengguna termasuk jejak digital…",
                options: ["Aktif", "Pasif", "Sengaja", "Terenkripsi"],
                correct: 1
            },
            
            // Soal 16-20 (HOTS)
            {
                question: "Seorang pelajar di Kupang mengunggah foto bersama teman-teman di pantai dengan pose yang kurang sopan di Instagram. Beberapa hari kemudian, foto tersebut digunakan oleh akun tidak dikenal untuk membuat meme yang melecehkan. Kasus ini menunjukkan bahaya jejak digital berupa…",
                options: [
                    "Penyalahgunaan identitas dan penyebaran konten negatif",
                    "Penurunan kualitas foto",
                    "Kehilangan hak cipta foto",
                    "Peningkatan popularitas di media sosial"
                ],
                correct: 0
            },
            {
                question: "Dalam sebuah seleksi beasiswa, panitia menemukan komentar kasar di Facebook yang dibuat lima tahun lalu oleh salah satu calon. Meskipun sudah dihapus, komentar tersebut masih tersimpan di arsip internet. Dampak yang mungkin terjadi adalah…",
                options: [
                    "Calon tetap diterima karena sudah lama",
                    "Calon dianggap tidak memenuhi syarat etika digital",
                    "Panitia mengabaikan karena sudah dihapus",
                    "Calon mendapat pujian karena jujur"
                ],
                correct: 1
            },
            {
                question: "Sebuah postingan di grup WhatsApp kelas berisi keluhan tentang guru tanpa menyebut nama, namun dengan ciri-ciri yang jelas. Postingan tersebut kemudian disebarkan ke grup sekolah lain dan menjadi perbincangan luas. Risiko utama dari kejadian ini adalah…",
                options: [
                    "Meningkatnya solidaritas siswa",
                    "Rusaknya hubungan siswa-guru dan reputasi siswa",
                    "Guru menjadi lebih disiplin",
                    "WhatsApp menjadi lebih populer"
                ],
                correct: 1
            },
            {
                question: "Seorang pelajar ingin melamar magang di sebuah perusahaan. Perusahaan tersebut diketahui selalu memeriksa media sosial calon peserta. Langkah terbaik yang dapat dilakukan pelajar tersebut sebelum melamar adalah…",
                options: [
                    "Menghapus semua akun media sosial",
                    "Memeriksa dan membersihkan konten negatif di media sosialnya",
                    "Mengunggah lebih banyak foto pribadi",
                    "Membuat akun baru dengan nama samaran"
                ],
                correct: 1
            },
            {
                question: "Di media sosial, sering muncul tautan 'klaim hadiah' yang mengarah ke situs tidak dikenal. Jika diklik, situs tersebut meminta data pribadi. Tindakan paling tepat adalah…",
                options: [
                    "Mengisi data karena hadiahnya menarik",
                    "Mengklik dan membagikan ke teman",
                    "Menghindari dan tidak mengklik tautan mencurigakan",
                    "Melaporkan ke polisi tanpa mengecek lebih dulu"
                ],
                correct: 2
            }
        ];

        // Variabel kuis
        let currentQuestionIndex = 0;
        let score = 0;
        let correctCount = 0;
        let wrongCount = 0;
        let selectedOption = null;
        let quizCompleted = false;
        let startTime = Date.now();
        let timeSpent = 0;
        let autoNextTimer = null;
        let autoNextCountdown = 1; // otomatis lanjut setelah 1 detik

        // Elemen DOM
        const quizScreen = document.getElementById('quizScreen');
        const endScreen = document.getElementById('endScreen');
        const questionNumber = document.getElementById('questionNumber');
        const questionText = document.getElementById('questionText');
        const optionsGrid = document.getElementById('optionsGrid');
        const progressFill = document.getElementById('progressFill');
        const progressText = document.getElementById('progressText');
        const nextButton = document.getElementById('nextButton');
        const nextButtonText = document.getElementById('nextButtonText');
        const scoreValue = document.getElementById('scoreValue');
        const correctValue = document.getElementById('correctValue');
        const wrongValue = document.getElementById('wrongValue');
        const accuracyValue = document.getElementById('accuracyValue');
        const finalScore = document.getElementById('finalScore');
        const finalCorrect = document.getElementById('finalCorrect');
        const finalWrong = document.getElementById('finalWrong');
        const finalAccuracy = document.getElementById('finalAccuracy');
        const finalTime = document.getElementById('finalTime');
        const resultMessage = document.getElementById('resultMessage');

        // Huruf untuk pilihan (A, B, C, D)
        const optionLetters = ['A', 'B', 'C', 'D'];

        // Inisialisasi kuis
        function initQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            correctCount = 0;
            wrongCount = 0;
            selectedOption = null;
            quizCompleted = false;
            startTime = Date.now();
            
            updateStats();
            loadQuestion();
            
            // Tampilkan layar kuis, sembunyikan layar akhir
            quizScreen.style.display = 'block';
            endScreen.classList.remove('show');
        }

        // Muat soal
        function loadQuestion() {
            if (currentQuestionIndex >= questions.length) {
                completeQuiz();
                return;
            }

            const question = questions[currentQuestionIndex];
            selectedOption = null;
            
            // Update nomor dan teks soal
            questionNumber.textContent = `Soal ${currentQuestionIndex + 1} dari ${questions.length}`;
            questionText.textContent = question.question;
            
            // Update progress bar
            const progressPercentage = ((currentQuestionIndex + 1) / questions.length) * 100;
            progressFill.style.width = `${progressPercentage}%`;
            progressText.textContent = `${currentQuestionIndex + 1} dari ${questions.length} soal`;
            
            // Kosongkan grid options
            optionsGrid.innerHTML = '';
            
            // Buat kartu untuk setiap pilihan
            question.options.forEach((option, index) => {
                const optionCard = document.createElement('div');
                optionCard.className = 'option-card';
                optionCard.dataset.index = index;
                optionCard.onclick = () => selectOption(index);
                
                optionCard.innerHTML = `
                    <div class="option-letter">${optionLetters[index]}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionsGrid.appendChild(optionCard);
            });
            
            // Reset tombol next
            nextButton.disabled = true;
            nextButtonText.textContent = currentQuestionIndex === questions.length - 1 ? 'Selesai' : 'Selanjutnya';
        }

        // Pilih opsi
        function selectOption(optionIndex) {
            if (selectedOption !== null) return; // Sudah memilih, tidak bisa ganti
            
            selectedOption = optionIndex;
            const question = questions[currentQuestionIndex];
            const isCorrect = optionIndex === question.correct;
            
            // Tandai semua kartu
            const optionCards = document.querySelectorAll('.option-card');
            
            optionCards.forEach((card, index) => {
                card.classList.add('disabled');
                
                if (index === question.correct) {
                    card.classList.add('correct');
                } else if (index === optionIndex && !isCorrect) {
                    card.classList.add('wrong');
                }
            });
            
            // Update statistik
            if (isCorrect) {
                correctCount++;
                score += 5; // 10 poin per jawaban benar
            } else {
                wrongCount++;
            }
            
            updateStats();
            
            // Otomatis lanjut ke soal berikutnya setelah 1 detik
            clearTimeout(autoNextTimer);
            autoNextTimer = setTimeout(() => {
                nextQuestion();
            }, 1000);
        }

        // Update statistik
        function updateStats() {
            scoreValue.textContent = score;
            correctValue.textContent = correctCount;
            wrongValue.textContent = wrongCount;
            
            const totalAnswered = correctCount + wrongCount;
            const accuracy = totalAnswered > 0 ? Math.round((correctCount / totalAnswered) * 100) : 0;
            accuracyValue.textContent = `${accuracy}%`;
        }

        // Soal berikutnya
        function nextQuestion() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                completeQuiz();
            }
        }

        // Selesaikan kuis
        function completeQuiz() {
            quizCompleted = true;
            timeSpent = Math.floor((Date.now() - startTime) / 1000);
            
            // Hitung statistik akhir
            const totalQuestions = questions.length;
            const accuracy = Math.round((correctCount / totalQuestions) * 100);
            
            // Update layar akhir
            finalScore.textContent = score;
            finalCorrect.textContent = correctCount;
            finalWrong.textContent = wrongCount;
            finalAccuracy.textContent = `${accuracy}%`;
            finalTime.textContent = `${timeSpent}s`;
            
            // Tampilkan layar akhir, sembunyikan layar kuis
            quizScreen.style.display = 'none';
            endScreen.classList.add('show');
        }

        // Restart kuis
        function restartQuiz() {
            initQuiz();
        }

        // Shortcut keyboard
        document.addEventListener('keydown', (e) => {
            if (quizCompleted) return;
            
            // 1-4 untuk memilih opsi
            if (e.key >= '1' && e.key <= '4' && selectedOption === null) {
                const optionIndex = parseInt(e.key) - 1;
                if (optionIndex < 4) {
                    selectOption(optionIndex);
                }
            }
            
            // Enter untuk next (jika sudah memilih)
            if (e.key === 'Enter' && selectedOption !== null) {
                nextQuestion();
            }
            
            // Space untuk restart di end screen
            if (e.key === ' ' && quizCompleted) {
                restartQuiz();
            }
        });

        // Mulai kuis
        initQuiz();
    </script>
</body>
</html>